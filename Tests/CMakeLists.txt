cmake_minimum_required (VERSION 3.6) # it may work with older versions but that would need to be tested.

project (BaseTest)

# These following lines are passed through @varname@ blocks when using `configure_file` to generate new files.
set (BaseTest_VERSION_MAJOR 1)
set (BaseTest_VERSION_MINOR 0)

file (GLOB SRCS *.cpp *.hpp)

source_group ("Source Files" FILES ${SRCS})

include_directories (${Base_SOURCE_DIR}/..) # all #includes are <Base/...>
add_executable (BaseTest ${SRCS})

if (${CMAKE_SYSTEM_NAME} STREQUAL "Windows")
    # C++17/MSVC2017 requirements
    target_compile_options (BaseTest PRIVATE "/std:c++latest")
    set_property (TARGET BaseTest PROPERTY CXX_STANDARD 17)
elseif (${CMAKE_SYSTEM_NAME} STREQUAL "Darwin")
    set_property (TARGET BaseTest PROPERTY CXX_STANDARD 14)
endif (${CMAKE_SYSTEM_NAME} STREQUAL "Windows")

set_property (TARGET BaseTest PROPERTY CXX_STANDARD_REQUIRED ON)

# Link to the Base project
target_link_libraries (BaseTest LINK_PUBLIC Base)

